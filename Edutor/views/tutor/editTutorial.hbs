<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/formfield.css">
</head>

<body>
    <div class="container" style ="height:900px;">
        <div class="title">EDITTTTTT</div>
        <div class="content">
            <form method="POST"  id="my-form" enctype="multipart/form-data" action="#">
                <div class="user-details mb-3">
                    <div class="input-box mb-3">
                
                        <label class="details" class="font-italic" for="title">Title</label>
                        <textarea class="form-control" id="title" name="title" rows="1"
                            maxlength="100">{{tutorials.title}}</textarea>
                    </div>
                    <div class="input-box mb-3">
                        <label class="details" class="font-italic" for="author">Author</label>
                        <textarea class="form-control" id="author" name="author" rows="1"
                            maxlength="100">{{tutorials.author}}</textarea>
                    </div>
                    <div class="input-box mb-3">

                        <label class="details" class="font-italic" for="description">Description</label>
                        <textarea class="form-control" id="description" name="description" rows="1"
                            maxlength="3000">{{tutorials.description}}</textarea>
                    </div>

        

                    <div class="input-box mb-3">
                      
                        <label class="details" class="font-italic" for="category">Category</label>
                        <select class="form-control" id="category" name="category" rows="1" maxlength="20"
                            value="{{tutorials.category}}">

                            <datalist id="categories">
                                <option value="" disabled selected hidden>{{tutorials.category}}</option>
                                <option value="Beginner Level">Beginner Level</option>
                                <option value="Intermediate Level">Intermediate Level</option>
                                <option value="Advance Level">Advance Level</option>
                                <option value="Others">Others</option>
                            </datalist>
                        </select>
                    </div>

                    <div class="input-box mb-3">
                        <label class="details">Enter Price Of Course</label>
                         <input type="number" class="form-control" id="price" name="price" step='0.01'  min="0.1" rows="1"  value="{{tutorials.price}}">
                    
                    </div>


                </div>
    

                <div class="input-box mb-3">
                    <span class="details">Update Thumbnail</span>
                    <div class="custom-file mb-2">
                        <input type="file" class="form-control custom-file-input" id="tutorialImageUpload"
                            name="tutorialImageUpload" accept="image/png,image/jpeg,image/jpg,image/gif">
                        <label class="custom-file-label" for="customFile">{{tutorials.tutorialImageURL}}</label>
                    </div>

                    <input id="tutorialImageURL" type="hidden" name="tutorialImageURL"
                        value="{{ tutorials.tutorialImageURL}}">

                    <div class="input-box mb-3">
                        <span class="details">Update tutorial video</span>
                        <div class="custom-file mb-2">
                            <input type="file" class="form-control custom-file-input" id="tutorialVideoURL"
                                name="tutorialVideoUpload" accept="video/*">
                            <label class="custom-file-label" for="customFile">{{tutorials.video}}</label>

                        </div>


                        <input id="tutorialImageURL" type="hidden" name="tutorialVideoURL" value={{ tutorials.video}}">
                        <video width="320" height="240" controls>
                            <source src="http://localhost:5000/tutor/tutorial/get-video/{{tutorials.video}}" type="video/mp4">
                        </video>

                    </div>
           
                    <div class="button">
                        <input type="submit" value="Update">
                    </div>
            </form>
        </div>
    </div>
</body>
<script>
const uploadButton = document.querySelector('#upload-btn');
 uploadButton.addEventListener('click', (e) => {
  const form = document.querySelector('#my-form');
  const formData = new FormData(form);
  fetch('http://localhost:5000/tutor/tutorial/upload-video', {
     method: 'POST',
     body: formData,
  });
 });
</script>
</html>
