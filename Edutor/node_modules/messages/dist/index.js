"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _plurals = _interopRequireDefault(require("./plurals"));

var _varStringify = _interopRequireDefault(require("./var-stringify"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function msg(strings, ...values) {
  if (typeof strings === 'string') return strings; // called as msg('message')

  let res = '';

  for (let i = 0; i < values.length; ++i) {
    res += strings[i] + values[i];
  }

  return res + strings[strings.length - 1];
}

msg.select = function select(cases, other) {
  if (!cases || typeof cases !== 'object') throw new Error('Missing cases argument');
  const caseFns = (0, _varStringify.default)(cases, other);
  return arg => {
    const fn = arg in caseFns ? caseFns[arg] : caseFns.other;
    return fn(arg);
  };
};

const plurals = new _plurals.default('en');
msg.ordinal = plurals.get.bind(plurals, true);
msg.plural = plurals.get.bind(plurals, false);
Object.defineProperty(msg, 'locale', {
  enumerable: true,

  get() {
    return plurals.getLocale();
  },

  set(lc) {
    plurals.setLocale(lc);
  }

});
var _default = msg;
exports.default = _default;